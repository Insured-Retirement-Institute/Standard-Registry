<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Digital First for Annuity Standards Registry</title>
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: left; }
    th { background: #f2f2f2; }
    .tag { background: #e0f7fa; border-radius: 4px; padding: 2px 6px; margin-right: 4px; font-size: 0.85em; display: inline-block; }
  </style>
</head>
<body>
  <h1>üìãDigital First for Annuity Standards Registry</h1>
    <p>
  This repository tracks industry adoption of the <strong>IRI Digital First for Annuity</strong> open standards by version. It is a centralized, version-controlled list of each standard and the firms that have implemented them. 
  Stakeholders can easily identify which firms have adopted each standard‚Äîand which version. Using the standards enable faster, more seamless integrations that reduce onboarding time and increase interoperability across the ecosystem.
  </p>

<p>
  Firms can submit pull requests to indicate their implementation status, which promotes transparency, collaboration, and faster onboarding.
</p>

<h2>üìÇ Structure of the Registry</h2>
<ul>
  <li><strong>Firm name</strong></li>
  <li><strong>Implementation status</strong> (Implemented, In Progress, Planned)</li>
  <li><strong>Date of implementation</strong></li>
  <li><strong>Verification status</strong></li>
  <li><strong>Contact information</strong></li>
  <li><strong>Optional tags and notes</strong></li>
</ul>

<h2>üîß Purpose of adopters.yml Files</h2>
<p>
  Each <code>adopters.yml</code> file captures:
</p>
<ul>
  <li>Which firms have adopted a specific standard</li>
  <li>Which version of that standard they‚Äôve adopted</li>
  <li>What their implementation status is</li>
  <li>Relevant metadata: contact info, verification, dates, tags</li>
</ul>

  <div id="tables-container"></div>

  <script>
    const standards = [
      { name: 'ApplicationStatusAPI v1.0', yaml: 'ApplicationStatusAPI/adopters.yml' },
      { name: 'ActivityStatusAPI v1.0' (See ACORD for these specs. We are only tracking adoption.), yaml: 'ActivityStatusAPI/adopters.yml' },
      { name: 'PaperlessReplacementsAPI v1.0', yaml: 'PaperlessReplacementsAPI/adopters.yml' }
    ];

    async function loadAndRender() {
      const container = document.getElementById('tables-container');

      for (let s of standards) {
        const url = `https://raw.githubusercontent.com/insured-retirement-institute/Standard-Registry/main/${s.yaml}`;
        try {
          const res = await fetch(url);
          const data = jsyaml.load(await res.text());

          const h2 = document.createElement('h2');
          h2.textContent = s.name;
          container.appendChild(h2);

          const table = document.createElement('table');
          const header = `<tr>
            <th>Firm</th><th>Status</th><th>Date</th><th>Verified</th><th>Contact</th><th>Tags</th><th>Notes</th>
          </tr>`;
          table.innerHTML = header;

          data.forEach(entry => {
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${entry.firm}</td>
              <td>${entry.status}</td>
              <td>${entry.implementation_date || '-'}</td>
              <td>${entry.verified ? '‚úÖ' : '‚ùå'}</td>
              <td>${entry.contact || '-'}</td>
              <td>${(entry.tags || []).map(t => `<span class="tag">${t}</span>`).join('')}</td>
              <td>${entry.notes || ''}</td>`;
            table.appendChild(row);
          });

          container.appendChild(table);
        } catch (err) {
          console.error('Error loading', s.yaml, err);
        }
      }
    }

    loadAndRender();
  </script>
</body>
</html>
